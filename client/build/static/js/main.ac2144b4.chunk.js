(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(16),r=n.n(a),i=(n(21),n(22),n(3)),l=n(4),d=n.n(l),o=n(0);var j=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([{name:"loading...",email:"loading...",contactNo:"loading...",address:"loading..."}]),r=Object(i.a)(a,2),l=r[0],j=r[1];function b(e){e?(fetch("/allCustomers").then((function(e){if(e.ok)return e.json()})).then((function(e){return j(e)})),s(!0)):s(!1)}var u=1;return Object(o.jsx)("div",{children:Object(o.jsxs)("center",{children:[Object(o.jsxs)("div",{class:"table_buttons",children:[Object(o.jsx)("input",{id:"table_button",onClick:function(){return b(!0)},class:"button",type:"submit",value:"Show customers"}),Object(o.jsx)("input",{id:"table_button",onClick:function(){return b(!1)},class:"button",type:"submit",value:"Hide customers"})]}),n&&Object(o.jsx)("div",{class:"customers",children:Object(o.jsxs)("table",{className:"col-12",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{class:"table_header",children:[Object(o.jsx)("th",{children:"No."}),Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Contact No."}),Object(o.jsx)("th",{children:"Address"}),Object(o.jsx)("th",{children:"Action"})]})}),l.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:u++}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.contactNo}),Object(o.jsx)("td",{children:e.address}),Object(o.jsxs)("td",{children:[" ",Object(o.jsx)("input",{id:"table_button",onClick:function(){return t=e._id,d.a.delete("/removeCustomer/"+t),alert("---- Customer has been removed from record ----"),void window.location.reload();var t},class:"button",type:"submit",value:"Delete"})]})]})}))]})})]})})},b=n(5),u=n(7),O=function(e){var t={};return e.name?e.email&&/\S+@\S+\.\S+/.test(e.email)?e.contactNo&&/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e.contactNo)?e.address||(t.error="Address is required"):t.error="Contact number is invalid":t.error="Email is invalid":t.error="Name is required",t};var h=function(){var e=Object(c.useState)([{name:"",email:"",contactNo:"",address:""}]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)({}),r=Object(i.a)(a,2),l=r[0],j=r[1],h=Object(c.useState)(!1),m=Object(i.a)(h,2),x=m[0],v=m[1];function f(e){var t=e.target,n=t.name,c=t.value;s((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(b.a)({},n,c))}))}return Object(c.useEffect)((function(){if(0===Object.keys(l).length&&x){var e={name:n.name,email:n.email,contactNo:n.contactNo,address:n.address};d.a.post("/addCustomer",e),s({name:"",email:"",contactNo:"",address:""}),alert("---- New customer added ----"),window.location.reload()}}),[l]),Object(o.jsxs)("div",{class:"addCustomer",children:[Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(O(n)),v(!0)},class:"form",children:[Object(o.jsxs)("div",{class:"inline",children:[Object(o.jsx)("label",{for:"name",children:"Name:\xa0 "}),Object(o.jsx)("input",{onChange:f,type:"text",name:"name",value:n.name})]}),Object(o.jsxs)("div",{class:"inline",children:[Object(o.jsx)("label",{for:"email",children:"Email:\xa0"}),Object(o.jsx)("input",{onChange:f,type:"text",name:"email",value:n.email})]}),Object(o.jsxs)("div",{class:"inline",children:[Object(o.jsx)("label",{for:"text",children:"Contact No.\xa0"}),Object(o.jsx)("input",{onChange:f,type:"text",name:"contactNo",value:n.contactNo})]}),Object(o.jsxs)("div",{class:"inline",children:[Object(o.jsx)("label",{for:"address",children:"Address:\xa0"}),Object(o.jsx)("input",{onChange:f,type:"text",name:"address",value:n.address})]}),Object(o.jsx)("div",{class:"inline form-button",children:Object(o.jsx)("input",{class:"button",type:"submit",value:"Add Customer"})}),Object(o.jsx)("br",{})]}),Object(o.jsxs)("p",{class:"form-error",children:[l.error,"."]})]})};var m=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)("center",{children:[Object(o.jsx)("h2",{id:"title",children:"CUSTOMER PANEL"}),Object(o.jsx)(h,{}),Object(o.jsx)(j,{})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root")),x()}},[[42,1,2]]]);
//# sourceMappingURL=main.ac2144b4.chunk.js.map