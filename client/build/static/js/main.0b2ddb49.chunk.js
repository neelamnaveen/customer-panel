(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(16),r=c.n(a),i=(c(21),c(22),c(3)),l=c(0);var j=function(){var e=1,t=Object(n.useState)(!1),c=Object(i.a)(t,2),s=c[0],a=c[1],r=Object(n.useState)([{name:"",email:"",contactNo:"",address:""}]),j=Object(i.a)(r,2),d=j[0],o=j[1];return Object(n.useEffect)((function(){fetch("/allCustomers").then((function(e){if(e.ok)return e.json()})).then((function(e){return o(e)}))})),Object(l.jsx)("div",{children:Object(l.jsxs)("center",{children:[Object(l.jsxs)("div",{class:"table_buttons",children:[Object(l.jsx)("input",{id:"table_button",onClick:function(){return a(!0)},class:"button",type:"submit",value:"Show customers"}),Object(l.jsx)("input",{id:"table_button",onClick:function(){return a(!1)},class:"button",type:"submit",value:"Hide customers"})]}),s&&Object(l.jsx)("div",{class:"customers",children:Object(l.jsxs)("table",{className:"col-12",children:[Object(l.jsxs)("tr",{class:"table_header",children:[Object(l.jsx)("th",{children:"No."}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Email"}),Object(l.jsx)("th",{children:"Contact No."}),Object(l.jsx)("th",{children:"Address"})]}),d.map((function(t){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e++}),Object(l.jsx)("td",{children:t.name}),Object(l.jsx)("td",{children:t.email}),Object(l.jsx)("td",{children:t.contactNo}),Object(l.jsx)("td",{children:t.address})]})}))]})})]})})},d=c(4),o=c(6),b=c(7),u=c.n(b),O=function(e){var t={};return e.name?e.email&&/\S+@\S+\.\S+/.test(e.email)?e.contactNo&&/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e.contactNo)?e.address||(t.error="Address is required"):t.error="Contact number is invalid":t.error="Email is invalid":t.error="Name is required",t};var m=function(){var e=Object(n.useState)([{name:"",email:"",contactNo:"",address:""}]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)({}),r=Object(i.a)(a,2),j=r[0],b=r[1],m=Object(n.useState)(!1),h=Object(i.a)(m,2),x=h[0],f=h[1];function v(e){var t=e.target,c=t.name,n=t.value;s((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(d.a)({},c,n))}))}return Object(n.useEffect)((function(){if(0===Object.keys(j).length&&x){var e={name:c.name,email:c.email,contactNo:c.contactNo,address:c.address};u.a.post("/addCustomer",e),alert("---- New customer added ----"),u.a.get("/"),s({name:"",email:"",contactNo:"",address:""})}}),[j]),Object(l.jsxs)("div",{class:"addCustomer",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(O(c)),f(!0)},class:"form",children:[Object(l.jsxs)("div",{class:"inline",children:[Object(l.jsx)("label",{for:"name",children:"Name:\xa0 "}),Object(l.jsx)("input",{onChange:v,type:"text",name:"name",value:c.name}),j.name&&Object(l.jsx)("p",{className:"error",children:j.name})]}),Object(l.jsxs)("div",{class:"inline",children:[Object(l.jsx)("label",{for:"email",children:"Email:\xa0"}),Object(l.jsx)("input",{onChange:v,type:"text",name:"email",value:c.email}),j.email&&Object(l.jsx)("p",{className:"error",children:j.email})]}),Object(l.jsxs)("div",{class:"inline",children:[Object(l.jsx)("label",{for:"text",children:"Contact No.\xa0"}),Object(l.jsx)("input",{onChange:v,type:"text",name:"contactNo",value:c.contactNo}),j.contactNo&&Object(l.jsx)("p",{className:"error",children:j.contactNo})]}),Object(l.jsxs)("div",{class:"inline",children:[Object(l.jsx)("label",{for:"address",children:"Address:\xa0"}),Object(l.jsx)("input",{onChange:v,type:"text",name:"address",value:c.address}),j.address&&Object(l.jsx)("p",{className:"error",children:j.address})]}),Object(l.jsx)("div",{class:"inline form-button",children:Object(l.jsx)("input",{class:"button",type:"submit",value:"Add Customer"})}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("p",{class:"form-error",children:[j.error,"."]})]})};var h=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)("center",{children:[Object(l.jsx)("h2",{id:"title",children:"CUSTOMER PANEL"}),Object(l.jsx)(m,{}),Object(l.jsx)(j,{})]})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),x()}},[[42,1,2]]]);
//# sourceMappingURL=main.0b2ddb49.chunk.js.map