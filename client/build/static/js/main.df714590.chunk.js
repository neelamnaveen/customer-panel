(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(16),r=c.n(a),i=(c(21),c(22),c(3)),l=c(4),j=c.n(l),d=c(0);var o=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([{name:"",email:"",contactNo:"",address:""}]),r=Object(i.a)(a,2),l=r[0],o=r[1];Object(n.useEffect)((function(){fetch("/allCustomers").then((function(e){if(e.ok)return e.json()})).then((function(e){return o(e)}))}));var b=1;return Object(d.jsx)("div",{children:Object(d.jsxs)("center",{children:[Object(d.jsxs)("div",{class:"table_buttons",children:[Object(d.jsx)("input",{id:"table_button",onClick:function(){return s(!0)},class:"button",type:"submit",value:"Show customers"}),Object(d.jsx)("input",{id:"table_button",onClick:function(){return s(!1)},class:"button",type:"submit",value:"Hide customers"})]}),c&&Object(d.jsx)("div",{class:"customers",children:Object(d.jsxs)("table",{className:"col-12",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{class:"table_header",children:[Object(d.jsx)("th",{children:"No."}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Contact No."}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"Action"})]})}),l.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:b++}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.contactNo}),Object(d.jsx)("td",{children:e.address}),Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("input",{id:"table_button",onClick:function(){return t=e._id,j.a.delete("/removeCustomer/"+t),console.log(t),alert("Customer has been removed from record"),void j.a.get("/");var t},class:"button",type:"submit",value:"Delete"})]})]})}))]})})]})})},b=c(5),u=c(7),O=function(e){var t={};return e.name?e.email&&/\S+@\S+\.\S+/.test(e.email)?e.contactNo&&/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e.contactNo)?e.address||(t.error="Address is required"):t.error="Contact number is invalid":t.error="Email is invalid":t.error="Name is required",t};var m=function(){var e=Object(n.useState)([{name:"",email:"",contactNo:"",address:""}]),t=Object(i.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)({}),r=Object(i.a)(a,2),l=r[0],o=r[1],m=Object(n.useState)(!1),h=Object(i.a)(m,2),x=h[0],v=h[1];function f(e){var t=e.target,c=t.name,n=t.value;s((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(b.a)({},c,n))}))}return Object(n.useEffect)((function(){if(0===Object.keys(l).length&&x){var e={name:c.name,email:c.email,contactNo:c.contactNo,address:c.address};j.a.post("/addCustomer",e),alert("---- New customer added ----"),j.a.get("/"),s({name:"",email:"",contactNo:"",address:""})}}),[l]),Object(d.jsxs)("div",{class:"addCustomer",children:[Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o(O(c)),v(!0)},class:"form",children:[Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"name",children:"Name:\xa0 "}),Object(d.jsx)("input",{onChange:f,type:"text",name:"name",value:c.name})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"email",children:"Email:\xa0"}),Object(d.jsx)("input",{onChange:f,type:"text",name:"email",value:c.email})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"text",children:"Contact No.\xa0"}),Object(d.jsx)("input",{onChange:f,type:"text",name:"contactNo",value:c.contactNo})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"address",children:"Address:\xa0"}),Object(d.jsx)("input",{onChange:f,type:"text",name:"address",value:c.address})]}),Object(d.jsx)("div",{class:"inline form-button",children:Object(d.jsx)("input",Object(b.a)({class:"button",type:"submit",value:"Add Customer"},"value","Add customer"))}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("p",{class:"form-error",children:[l.error,"."]})]})};var h=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("center",{children:[Object(d.jsx)("h2",{id:"title",children:"CUSTOMER PANEL"}),Object(d.jsx)(m,{}),Object(d.jsx)(o,{})]})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),x()}},[[42,1,2]]]);
//# sourceMappingURL=main.df714590.chunk.js.map