(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,s){},41:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(14),i=s.n(a),r=(s(19),s(20),s(3)),l=s.n(r),d=s(0);var o=function(){const[e,t]=Object(c.useState)(!1),[s,n]=Object(c.useState)([{name:"loading...",email:"loading...",contactNo:"loading...",address:"loading..."}]);function a(e){e?(fetch("/allCustomers").then((e=>{if(e.ok)return e.json()})).then((e=>n(e))),t(!0)):t(!1)}let i=1;return Object(d.jsx)("div",{children:Object(d.jsxs)("center",{children:[Object(d.jsxs)("div",{class:"table_buttons",children:[Object(d.jsx)("input",{id:"table_button",onClick:()=>a(!0),class:"button",type:"submit",value:"Show customers"}),Object(d.jsx)("input",{id:"table_button",onClick:()=>a(!1),class:"button",type:"submit",value:"Hide customers"})]}),e&&Object(d.jsx)("div",{class:"customers",children:Object(d.jsxs)("table",{className:"col-12",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{class:"table_header",children:[Object(d.jsx)("th",{children:"No."}),Object(d.jsx)("th",{children:"Name"}),Object(d.jsx)("th",{children:"Email"}),Object(d.jsx)("th",{children:"Contact No."}),Object(d.jsx)("th",{children:"Address"}),Object(d.jsx)("th",{children:"Action"})]})}),s.map((e=>Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:i++}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:e.email}),Object(d.jsx)("td",{children:e.contactNo}),Object(d.jsx)("td",{children:e.address}),Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("input",{id:"table_button",onClick:()=>{return t=e._id,l.a.delete("/removeCustomer/"+t),alert("---- Customer has been removed from record ----"),void window.location.reload();var t},class:"button",type:"submit",value:"Delete"})]})]})))]})})]})})};var j=e=>{let t={};return e.name?e.email&&/\S+@\S+\.\S+/.test(e.email)?e.contactNo&&/^[0][1-9]\d{9}$|^[1-9]\d{9}$/.test(e.contactNo)?e.address||(t.error="Address is required"):t.error="Contact number is invalid":t.error="Email is invalid":t.error="Name is required",t};var b=function(){const[e,t]=Object(c.useState)([{name:"",email:"",contactNo:"",address:""}]),[s,n]=Object(c.useState)({}),[a,i]=Object(c.useState)(!1);function r(e){const{name:s,value:c}=e.target;t((e=>({...e,[s]:c})))}return Object(c.useEffect)((()=>{if(0===Object.keys(s).length&&a){const s={name:e.name,email:e.email,contactNo:e.contactNo,address:e.address};l.a.post("/addCustomer",s),t({name:"",email:"",contactNo:"",address:""}),alert("---- New customer added ----"),window.location.reload()}}),[s]),Object(d.jsxs)("div",{class:"addCustomer",children:[Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(j(e)),i(!0)},class:"form",children:[Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"name",children:"Name:\xa0 "}),Object(d.jsx)("input",{onChange:r,type:"text",name:"name",value:e.name})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"email",children:"Email:\xa0"}),Object(d.jsx)("input",{onChange:r,type:"text",name:"email",value:e.email})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"text",children:"Contact No.\xa0"}),Object(d.jsx)("input",{onChange:r,type:"text",name:"contactNo",value:e.contactNo})]}),Object(d.jsxs)("div",{class:"inline",children:[Object(d.jsx)("label",{for:"address",children:"Address:\xa0"}),Object(d.jsx)("input",{onChange:r,type:"text",name:"address",value:e.address})]}),Object(d.jsx)("div",{class:"inline form-button",children:Object(d.jsx)("input",{class:"button",type:"submit",value:"Add Customer"})}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("p",{class:"form-error",children:[s.error,"."]})]})};var u=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)("center",{children:[Object(d.jsx)("h2",{id:"title",children:"CUSTOMER PANEL"}),Object(d.jsx)(b,{}),Object(d.jsx)(o,{})]})})};var h=e=>{e&&e instanceof Function&&s.e(3).then(s.bind(null,42)).then((t=>{let{getCLS:s,getFID:c,getFCP:n,getLCP:a,getTTFB:i}=t;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById("root")),h()}},[[41,1,2]]]);
//# sourceMappingURL=main.b794cf99.chunk.js.map